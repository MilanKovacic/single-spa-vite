<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Root Config</title>

  <!-- This script is required for react-refresh to work properly -->
  <script>
    const origin = "http://localhost:3001"

    const reactRefreshInteropabilityScript = document.createElement('script');
    reactRefreshInteropabilityScript.type = 'module';
    reactRefreshInteropabilityScript.textContent = 
      `import RefreshRuntime from '${origin}/@react-refresh';
        RefreshRuntime.injectIntoGlobalHook(window);`
    window.$RefreshReg$ = () => { };
    window.$RefreshSig$ = () => (type) => type;
    window.__vite_plugin_react_preamble_installed__ = true;
    document.head.append(reactRefreshInteropabilityScript);
  </script>

  <script type="importmap">
    {
      "imports": {
        "@example/root-config": "http://localhost:3000/src/main.ts",
        "@example/microfrontend": "http://localhost:3001/src/main.ts",
        "react": "https://ga.jspm.io/npm:react@18.2.0/dev.index.js",
        "react-dom": "https://ga.jspm.io/npm:react-dom@18.2.0/dev.index.js",
        "react-dom/client": "https://ga.jspm.io/npm:react-dom@18.2.0/dev.client.js",
        "react/jsx-dev-runtime": "https://ga.jspm.io/npm:react@18.2.0/dev.jsx-dev-runtime.js",
        "react/jsx-runtime": "https://ga.jspm.io/npm:react@18.2.0/dev.jsx-runtime.js",
        "single-spa": "https://ga.jspm.io/npm:single-spa@5.9.5/lib/esm/single-spa.min.js"
      },
      "scopes": {
        "https://ga.jspm.io/": {
          "scheduler": "https://ga.jspm.io/npm:scheduler@0.23.0/dev.index.js"
        }
      }
    }
  </script>
</head>

<body>
  <noscript>
    You need to enable JavaScript to run this app.
  </noscript>
  <script>
    import('@example/root-config');
  </script>
  <import-map-overrides-full show-when-local-storage="devtools" dev-libs></import-map-overrides-full>
</body>

</html>